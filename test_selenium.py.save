CLEAR
logging.basicConfig(filename='/var/www/agentarbitrage/test_selenium.log', level=logging.DEBUG, format='%(asctime)s %(levelname)s %(name)s %(threadName)s : %(message)s')
logging.getLogger('test').info(f"Starting test_selenium.py with PID {os.getpid()}")

try:
    profile_dir = f"/tmp/chrome-profile-{os.getpid()}"
    os.makedirs(profile_dir, exist_ok=True)
    options = webdriver.ChromeOptions()
    options.add_argument('--headless')
    options.add_argument(f'--user-data-dir={profile_dir}')
    driver_path = "/usr/local/bin/chromedriver"
    service = ChromeService(driver_path)
    driver = webdriver.Chrome(service=service, options=options)
    logging.getLogger('test').info("Selenium driver started successfully")
    driver.quit()
except Exception as e:
    logging.getLogger('test').error(f"Selenium failed: {str(e)}")
