{% extends "layout.html" %}

{% block title %}Keepa Deals Query{% endblock %}

{% block content %}

<div class="tidy-container">
    <h2 class="tidy-header">Keepa Deals API Query</h2>
    <p class="tidy-text">
        Use this file to set the Keepa deals query. The query must be a valid JSON object.
    </p>

    <!-- No card wrapper for the main query box as per mockup -->
    <form action="{{ url_for('deals') }}" method="post" class="settings-form">
        <input type="hidden" name="action" value="update_query">
        <!-- Label removed to match mockup if it's redundant with header, or kept hidden -->
        <!-- The mockup shows the text "Keepa Deals API Query" as a header, then description. -->
        <!-- Then the code block starts immediately. -->

        <div class="form-group" style="margin-bottom: 20px;">
             <!-- <label for="keepa_query">Keepa API Query</label> -->
            <textarea id="keepa_query" name="keepa_query" class="tidy-code-block" rows="20">{{ keepa_query }}</textarea>
        </div>

        <div class="form-actions" style="margin-bottom: 20px;">
            <button type="submit" class="tidy-button">Save Query</button>
        </div>
    </form>

</div>
{% endblock %}
